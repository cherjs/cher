{"version":3,"file":"cher.esm.min.js","sources":["../src/utilities.js","../src/response-error.js","../src/index.js"],"sourcesContent":["// eslint-disable-next-line no-void\nexport const undef = void 0; // undefined\n\nexport function freezeObject(\n\tobject,\n) {\n\treturn Object.freeze(object);\n}\n\nexport function createNullObject() {\n\treturn Object.create(null);\n}\n\nexport function getNormalizedObject(\n\tkeys,\n\tobject,\n) {\n\tobject ??= createNullObject();\n\n\tconst normalizedObject = createNullObject();\n\n\tfor (let i = 0; i < keys.length; ++i) {\n\t\tnormalizedObject[\n\t\t\tkeys[i]\n\t\t] = (\n\t\t\tobject[\n\t\t\t\tkeys[i]\n\t\t\t]\n\t\t);\n\t}\n\n\treturn normalizedObject;\n}\n\nexport function toNullObject(\n\tobject,\n) {\n\treturn (\n\t\tgetNormalizedObject(\n\t\t\tObject.keys(object),\n\t\t\tobject,\n\t\t)\n\t);\n}\n\nexport const httpRequestMethods = (\n\tfreezeObject(\n\t\ttoNullObject(\n\t\t\t{\n\t\t\t\tGET: 1,\n\t\t\t\tHEAD: 1,\n\t\t\t\tPOST: 1,\n\t\t\t\tPUT: 1,\n\t\t\t\tDELETE: 1,\n\t\t\t\tCONNECT: 1,\n\t\t\t\tOPTIONS: 1,\n\t\t\t\tTRACE: 1,\n\t\t\t\tPATCH: 1,\n\t\t\t},\n\t\t),\n\t)\n);\n\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/HEAD\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/CONNECT\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/OPTIONS\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/TRACE\nexport const bodylessHttpRequestMethods = (\n\tfreezeObject(\n\t\ttoNullObject(\n\t\t\t{\n\t\t\t\tGET: 1,\n\t\t\t\tHEAD: 1,\n\t\t\t\tCONNECT: 1,\n\t\t\t\tOPTIONS: 1,\n\t\t\t\tTRACE: 1,\n\t\t\t},\n\t\t),\n\t)\n);\n\n// https://fetch.spec.whatwg.org/#statuses\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/101\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/103\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/205\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/304\nexport const bodylessHttpResponseStatusCodes = (\n\tfreezeObject(\n\t\ttoNullObject(\n\t\t\t{\n\t\t\t\t101: 1,\n\t\t\t\t103: 1,\n\t\t\t\t204: 1,\n\t\t\t\t205: 1,\n\t\t\t\t304: 1,\n\t\t\t},\n\t\t),\n\t)\n);\n\nexport const toString = String;\n\nexport function isUndefined(\n\tvalue,\n) {\n\treturn (typeof value === 'undefined');\n}\n\nexport function isObject(\n\tvalue,\n) {\n\treturn (Object(value) === value);\n}\n\nexport function isArray(\n\tvalue,\n) {\n\treturn Array.isArray(value);\n}\n\nexport function isType(\n\tvalue,\n\tTypeConstructor,\n\ttypeName,\n) {\n\treturn (\n\t\tvalue instanceof TypeConstructor\n\t\t|| Object.prototype.toString.call(value) === `[object ${typeName}]`\n\t);\n}\n\nexport function evalSimpleTemplate(\n\ttemplate,\n\targs,\n\tdelimiters,\n) {\n\tdelimiters = (\n\t\tisObject(delimiters)\n\t\t? [\n\t\t\ttoString(delimiters[0] ?? ''),\n\t\t\ttoString(delimiters[1] ?? ''),\n\t\t]\n\t\t: [\n\t\t\ttoString(delimiters ?? ''),\n\t\t\ttoString(delimiters ?? ''),\n\t\t]\n\t);\n\n\tlet result = toString(template ?? '');\n\n\tif (isObject(args)) {\n\t\tObject\n\t\t.keys(\n\t\t\targs,\n\t\t)\n\t\t.forEach(\n\t\t\t(key) => {\n\t\t\t\tresult = (\n\t\t\t\t\tresult\n\t\t\t\t\t.split(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t`${\n\t\t\t\t\t\t\t\tdelimiters[0]\n\t\t\t\t\t\t\t}${\n\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t}${\n\t\t\t\t\t\t\t\tdelimiters[1]\n\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t),\n\t\t\t\t\t)\n\t\t\t\t\t.join(\n\t\t\t\t\t\targs[key],\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t}\n\n\treturn result;\n}\n\nexport const getURLObject = (\n\tfunction getURLObject(\n\t\turl,\n\t\t...bases\n\t) {\n\t\tconst base = (\n\t\t\tbases.length\n\t\t\t? getURLObject(...bases)\n\t\t\t: (\n\t\t\t\tdocument?.baseURI\n\t\t\t\t// eslint-disable-next-line no-restricted-globals\n\t\t\t\t|| location?.href\n\t\t\t)\n\t\t);\n\n\t\t// because of Edge Legacy (before Edge 79)\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/URL/URL#examples\n\t\tif (toString(url) === '') {\n\t\t\turl = base;\n\t\t}\n\n\t\treturn (\n\t\t\tnew URL(\n\t\t\t\turl,\n\t\t\t\tbase,\n\t\t\t)\n\t\t);\n\t}\n);\n\nexport function appendParamsToParams(\n\tparams1,\n\tparams2,\n) {\n\treturn (\n\t\t[\n\t\t\t(\n\t\t\t\tnew URLSearchParams(\n\t\t\t\t\t(params1 ?? undef),\n\t\t\t\t)\n\t\t\t\t.toString()\n\t\t\t),\n\t\t\t(\n\t\t\t\tnew URLSearchParams(\n\t\t\t\t\t(params2 ?? undef),\n\t\t\t\t)\n\t\t\t\t.toString()\n\t\t\t),\n\t\t]\n\t\t.filter(Boolean)\n\t\t.join('&')\n\t);\n}\n\nexport function appendParamsToURL(\n\tparams,\n\turl,\n\t...bases\n) {\n\tconst urlObject = getURLObject(\n\t\turl,\n\t\t...bases,\n\t);\n\n\t(\n\t\tnew URLSearchParams(\n\t\t\tparams,\n\t\t)\n\t)\n\t.forEach(\n\t\t(\n\t\t\tvalue,\n\t\t\tkey,\n\t\t) => {\n\t\t\turlObject.searchParams.append(\n\t\t\t\tkey,\n\t\t\t\tvalue,\n\t\t\t);\n\t\t},\n\t);\n\n\treturn urlObject.href;\n}\n\nexport function getURL(\n\tevalTemplate,\n\tdelimiters,\n\targs,\n\tparams,\n\turl,\n\t...bases\n) {\n\treturn (\n\t\tappendParamsToURL(\n\t\t\tparams,\n\t\t\t...(\n\t\t\t\t[\n\t\t\t\t\turl,\n\t\t\t\t\t...bases,\n\t\t\t\t]\n\t\t\t\t.map(\n\t\t\t\t\t(value) => (\n\t\t\t\t\t\tevalTemplate(\n\t\t\t\t\t\t\ttoString(value ?? ''),\n\t\t\t\t\t\t\targs,\n\t\t\t\t\t\t\tdelimiters,\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t)\n\t\t\t),\n\t\t)\n\t);\n}\n\nexport function toFormData(\n\tdata,\n) {\n\tif (\n\t\tisType(\n\t\t\tdata,\n\t\t\tFormData,\n\t\t\t'FormData',\n\t\t)\n\t) {\n\t\treturn data;\n\t}\n\n\tif (\n\t\tisType(\n\t\t\tdata,\n\t\t\tHTMLFormElement,\n\t\t\t'HTMLFormElement',\n\t\t)\n\t) {\n\t\treturn new FormData(data);\n\t}\n\n\tconst formData = new FormData();\n\n\tif (isArray(data)) {\n\t\tfor (let i = 0; i < data.length; ++i) {\n\t\t\tformData.append(\n\t\t\t\t...data[i],\n\t\t\t);\n\t\t}\n\t\treturn formData;\n\t}\n\n\tif (\n\t\tisType(\n\t\t\tdata,\n\t\t\tURLSearchParams,\n\t\t\t'URLSearchParams',\n\t\t)\n\t) {\n\t\tdata.forEach(\n\t\t\t(\n\t\t\t\tvalue,\n\t\t\t\tkey,\n\t\t\t) => {\n\t\t\t\tformData.append(\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue,\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t\treturn formData;\n\t}\n\n\tif (isObject(data)) {\n\t\tObject\n\t\t.keys(\n\t\t\tdata,\n\t\t)\n\t\t.forEach(\n\t\t\t(key) => {\n\t\t\t\tformData.append(\n\t\t\t\t\tkey,\n\t\t\t\t\t...(\n\t\t\t\t\t\tisArray(data[key])\n\t\t\t\t\t\t? data[key]\n\t\t\t\t\t\t: [data[key]]\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t\treturn formData;\n\t}\n\n\treturn (\n\t\tnew FormData(\n\t\t\tdata,\n\t\t)\n\t);\n}\n","class ResponseError extends Error {\n\n\tconstructor(\n\t\tresponse,\n\t\tmessage,\n\t\t...args\n\t) {\n\t\tsuper(\n\t\t\t(\n\t\t\t\tmessage == null\n\t\t\t\t? (\n\t\t\t\t\t`HTTP ${\n\t\t\t\t\t\tresponse.status\n\t\t\t\t\t\t|| '<unknown-status>'\n\t\t\t\t\t} ${\n\t\t\t\t\t\tresponse.statusText\n\t\t\t\t\t\t|| ''\n\t\t\t\t\t}`\n\t\t\t\t)\n\t\t\t\t: message\n\t\t\t),\n\t\t\t...args,\n\t\t);\n\n\t\tif (Error.captureStackTrace) {\n\t\t\tError.captureStackTrace(\n\t\t\t\tthis,\n\t\t\t\tResponseError,\n\t\t\t);\n\t\t}\n\n\t\tthis.name = 'ResponseError';\n\t\tthis.response = response;\n\t}\n\n}\n\nexport default ResponseError;\n","import {\n\tundef,\n\tfreezeObject,\n\tcreateNullObject,\n\tgetNormalizedObject,\n\ttoNullObject,\n\thttpRequestMethods,\n\tbodylessHttpRequestMethods,\n\tbodylessHttpResponseStatusCodes,\n\ttoString,\n\tisUndefined,\n\tisObject,\n\tisArray,\n\tisType,\n\tevalSimpleTemplate,\n\tappendParamsToParams,\n\tgetURL,\n\ttoFormData,\n} from './utilities';\nimport ResponseError from './response-error';\n\nif (\n\ttypeof fetch !== 'function'\n) {\n\tthrow new Error('The fetch() is not supported.');\n}\n\nconst decodings = (\n\tfreezeObject(\n\t\ttoNullObject(\n\t\t\t{\n\t\t\t\tjson: (\n\t\t\t\t\tasync (response) => {\n\t\t\t\t\t\tconst text = await response.text();\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\t? JSON.parse(text)\n\t\t\t\t\t\t\t: undef\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t\t'strict-json': 'json',\n\t\t\t\ttext: 'text',\n\t\t\t\turl: 'formData',\n\t\t\t\tform: 'formData',\n\t\t\t\tblob: 'blob',\n\t\t\t\tfile: 'blob',\n\t\t\t\tstream: false,\n\t\t\t\tbuffer: 'arrayBuffer',\n\t\t\t\tnone: undef,\n\t\t\t},\n\t\t),\n\t)\n);\n\nconst encodings = (\n\tfreezeObject(\n\t\ttoNullObject(\n\t\t\t{\n\t\t\t\tjson: 1,\n\t\t\t\ttext: 1,\n\t\t\t\turl: 1,\n\t\t\t\tform: 1,\n\t\t\t\tblob: 1,\n\t\t\t\tfile: 1,\n\t\t\t\tstream: 1,\n\t\t\t\tbuffer: 1,\n\t\t\t\tnone: 1,\n\t\t\t},\n\t\t),\n\t)\n);\n\nconst defaults = (\n\ttoNullObject(\n\t\t{\n\t\t\tmethod: undef,\n\t\t\tevalTemplate: () => evalSimpleTemplate,\n\t\t\tdelimiters: () => ['{', '}'],\n\t\t\tbaseURL: undef,\n\t\t\turl: undef,\n\t\t\targs: undef,\n\t\t\tparams: undef,\n\t\t\tdecode: 'json',\n\t\t\tencode: 'json',\n\t\t\tdata: undef,\n\t\t\toptions: undef,\n\t\t},\n\t)\n);\n\nconst initialDefaults = (\n\t{\n\t\t...defaults,\n\t}\n);\n\nconst defaultKeys = (\n\tObject\n\t.keys(\n\t\tdefaults,\n\t)\n);\n\nconst instanceKeys = [\n\t...defaultKeys,\n];\n\nconst fetchKeys = [\n\t...defaultKeys,\n\t'listeners',\n];\n\nfunction getNormalizedMethod(\n\tvalue,\n) {\n\tvalue = toString(value).toUpperCase();\n\treturn (\n\t\tvalue in httpRequestMethods\n\t\t? value\n\t\t: undef\n\t);\n}\n\nfunction isURL(\n\tvalue,\n) {\n\treturn (\n\t\ttypeof value === 'string'\n\t\t|| isType(\n\t\t\tvalue,\n\t\t\tURL,\n\t\t\t'URL',\n\t\t)\n\t);\n}\n\nclass Cher extends EventTarget {\n\n\tconstructor(\n\t\t...config\n\t) {\n\t\tsuper();\n\n\t\tthis.reset();\n\n\t\tthis.set(\n\t\t\t...config,\n\t\t);\n\t}\n\n\t/* Properties */\n\n\t// method\n\n\t#method;\n\n\tget method() {\n\t\treturn this.#method;\n\t}\n\n\tset method(\n\t\tvalue,\n\t) {\n\t\tthis.#method = (\n\t\t\tgetNormalizedMethod(\n\t\t\t\tvalue,\n\t\t\t)\n\t\t);\n\t}\n\n\t// evalTemplate\n\n\t#evalTemplate;\n\n\tget evalTemplate() {\n\t\treturn this.#evalTemplate;\n\t}\n\n\tset evalTemplate(\n\t\tvalue,\n\t) {\n\t\tthis.#evalTemplate = (\n\t\t\ttypeof value === 'function'\n\t\t\t? value\n\t\t\t: (template) => template\n\t\t);\n\t}\n\n\t// delimiters\n\n\t#delimiters;\n\n\tget delimiters() {\n\t\treturn this.#delimiters;\n\t}\n\n\tset delimiters(\n\t\tvalue,\n\t) {\n\t\tthis.#delimiters = (\n\t\t\tisObject(value)\n\t\t\t? [\n\t\t\t\ttoString(value[0] ?? ''),\n\t\t\t\ttoString(value[1] ?? ''),\n\t\t\t]\n\t\t\t: [\n\t\t\t\ttoString(value ?? ''),\n\t\t\t\ttoString(value ?? ''),\n\t\t\t]\n\t\t);\n\t}\n\n\t// baseURL\n\n\t#baseURL = [];\n\n\tget baseURL() {\n\t\treturn this.#baseURL;\n\t}\n\n\tset baseURL(\n\t\tvalue,\n\t) {\n\t\tvalue ??= [];\n\n\t\tif (!isArray(value)) {\n\t\t\tvalue = [\n\t\t\t\t...this.#baseURL,\n\t\t\t\tvalue,\n\t\t\t];\n\t\t}\n\n\t\tthis.#baseURL = (\n\t\t\tvalue\n\t\t\t.reduce(\n\t\t\t\t(\n\t\t\t\t\treducedItems,\n\t\t\t\t\titem,\n\t\t\t\t) => {\n\t\t\t\t\titem = toString(item ?? '');\n\n\t\t\t\t\tif (item) {\n\t\t\t\t\t\treducedItems.push(\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn reducedItems;\n\t\t\t\t},\n\t\t\t\t[],\n\t\t\t)\n\t\t);\n\t}\n\n\t// url\n\n\t#url;\n\n\tget url() {\n\t\treturn this.#url;\n\t}\n\n\tset url(\n\t\tvalue,\n\t) {\n\t\tthis.#url = toString(value ?? '');\n\t}\n\n\t// args\n\n\t#args;\n\n\tget args() {\n\t\treturn this.#args;\n\t}\n\n\tset args(\n\t\tvalue,\n\t) {\n\t\tthis.#args = (value ?? undef);\n\t}\n\n\t// params\n\n\t#params;\n\n\tget params() {\n\t\treturn this.#params;\n\t}\n\n\tset params(\n\t\tvalue,\n\t) {\n\t\tthis.#params = (value ?? undef);\n\t}\n\n\t// decode\n\n\t#decode;\n\n\tget decode() {\n\t\treturn this.#decode;\n\t}\n\n\tset decode(\n\t\tvalue,\n\t) {\n\t\tthis.#decode = (\n\t\t\tvalue in decodings\n\t\t\t? toString(value)\n\t\t\t: undef\n\t\t);\n\t}\n\n\t// encode\n\n\t#encode;\n\n\tget encode() {\n\t\treturn this.#encode;\n\t}\n\n\tset encode(\n\t\tvalue,\n\t) {\n\t\tthis.#encode = (\n\t\t\tvalue in encodings\n\t\t\t? toString(value)\n\t\t\t: undef\n\t\t);\n\t}\n\n\t// data\n\n\t#data;\n\n\tget data() {\n\t\treturn this.#data;\n\t}\n\n\tset data(\n\t\tvalue,\n\t) {\n\t\tthis.#data = value;\n\t}\n\n\t// options\n\n\t#options;\n\n\tget options() {\n\t\treturn this.#options;\n\t}\n\n\tset options(\n\t\tvalue,\n\t) {\n\t\tif (isObject(value)) {\n\t\t\tvalue = {\n\t\t\t\t...value,\n\t\t\t};\n\t\t\tif ('method' in value) {\n\t\t\t\tconst method = (\n\t\t\t\t\tgetNormalizedMethod(\n\t\t\t\t\t\tvalue.method,\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tif (isUndefined(method)) {\n\t\t\t\t\tdelete value.method;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvalue.method = method;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tvalue = undef;\n\t\t}\n\t\tthis.#options = value;\n\t}\n\n\t/* Methods */\n\n\t// eslint-disable-next-line class-methods-use-this\n\tgetDefault(\n\t\tkey,\n\t) {\n\t\treturn defaults[key];\n\t}\n\n\tsetDefault(\n\t\tkey,\n\t\tvalue,\n\t\treset,\n\t) {\n\t\tif (key in defaultKeys) {\n\t\t\tdefaults[key] = value;\n\t\t\tif (reset) {\n\t\t\t\tthis[key] = (\n\t\t\t\t\ttypeof defaults[key] === 'function'\n\t\t\t\t\t? defaults[key]()\n\t\t\t\t\t: defaults[key]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tresetDefault(\n\t\tkey,\n\t\treset,\n\t) {\n\t\tthis.setDefault(\n\t\t\tkey,\n\t\t\tinitialDefaults[key],\n\t\t\treset,\n\t\t);\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tgetDefaults() {\n\t\treturn (\n\t\t\tgetNormalizedObject(\n\t\t\t\tdefaultKeys,\n\t\t\t\tdefaults,\n\t\t\t)\n\t\t);\n\t}\n\n\tsetDefaults(\n\t\t...config\n\t) {\n\t\tlet url;\n\t\tlet reset;\n\n\t\tif (isURL(config[0])) {\n\t\t\t[url, config, reset] = config;\n\t\t\tconfig.url = url;\n\t\t}\n\t\telse {\n\t\t\t[config, reset] = config;\n\t\t}\n\n\t\tconfig ??= createNullObject();\n\n\t\tdefaultKeys\n\t\t.forEach(\n\t\t\t(key) => {\n\t\t\t\tif (key in config) {\n\t\t\t\t\tthis.setDefault(\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tconfig[key],\n\t\t\t\t\t\treset,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\n\t\tif (!isUndefined(url)) {\n\t\t\tthis.setDefault(\n\t\t\t\t'url',\n\t\t\t\turl,\n\t\t\t\treset,\n\t\t\t);\n\t\t}\n\t}\n\n\tresetDefaults(\n\t\treset,\n\t) {\n\t\tthis.setDefaults(\n\t\t\tinitialDefaults,\n\t\t\treset,\n\t\t);\n\t}\n\n\treset(\n\t\tinitial,\n\t) {\n\t\tconst values = (\n\t\t\tinitial\n\t\t\t? initialDefaults\n\t\t\t: defaults\n\t\t);\n\n\t\tdefaultKeys\n\t\t.forEach(\n\t\t\t(key) => {\n\t\t\t\tthis[key] = (\n\t\t\t\t\ttypeof values[key] === 'function'\n\t\t\t\t\t? values[key]()\n\t\t\t\t\t: values[key]\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t}\n\n\tset(\n\t\t...config\n\t) {\n\t\tlet url;\n\n\t\tif (isURL(config[0])) {\n\t\t\t[url, config] = config;\n\t\t}\n\t\telse {\n\t\t\t[config] = config;\n\t\t}\n\n\t\tconfig ??= createNullObject();\n\n\t\tinstanceKeys\n\t\t.forEach(\n\t\t\t(key) => {\n\t\t\t\tif (key in config) {\n\t\t\t\t\tthis[key] = config[key];\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\n\t\tif (!isUndefined(url)) {\n\t\t\tthis.url = url;\n\t\t}\n\t}\n\n\tgetConfig() {\n\t\treturn (\n\t\t\tgetNormalizedObject(\n\t\t\t\tinstanceKeys,\n\t\t\t\tthis,\n\t\t\t)\n\t\t);\n\t}\n\n\tgetURL(\n\t\t...config\n\t) {\n\t\tlet url;\n\n\t\tif (isURL(config[0])) {\n\t\t\t[url, config] = config;\n\t\t}\n\t\telse {\n\t\t\t[config] = config;\n\t\t}\n\n\t\tconfig ??= createNullObject();\n\n\t\tlet {\n\t\t\tevalTemplate,\n\t\t\tdelimiters,\n\t\t\tbaseURL,\n\t\t\targs,\n\t\t\tparams,\n\t\t} = config;\n\n\t\tif (isUndefined(url)) {\n\t\t\t({ url } = config);\n\t\t}\n\n\t\tevalTemplate = (\n\t\t\ttypeof evalTemplate === 'function'\n\t\t\t? evalTemplate\n\t\t\t: this.evalTemplate\n\t\t);\n\n\t\tdelimiters ??= this.delimiters;\n\n\t\tbaseURL = [\n\t\t\t...this.baseURL,\n\t\t\t...(\n\t\t\t\t(\n\t\t\t\t\tisArray(baseURL)\n\t\t\t\t\t? baseURL\n\t\t\t\t\t: [baseURL]\n\t\t\t\t)\n\t\t\t\t.reduce(\n\t\t\t\t\t(\n\t\t\t\t\t\treducedItems,\n\t\t\t\t\t\titem,\n\t\t\t\t\t) => {\n\t\t\t\t\t\titem = toString(item ?? '');\n\n\t\t\t\t\t\tif (item) {\n\t\t\t\t\t\t\treducedItems.push(\n\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn reducedItems;\n\t\t\t\t\t},\n\t\t\t\t\t[],\n\t\t\t\t)\n\t\t\t),\n\t\t];\n\n\t\turl = toString(url ?? this.url);\n\n\t\targs = (\n\t\t\t{\n\t\t\t\t...this.args,\n\t\t\t\t...(args ?? undef),\n\t\t\t}\n\t\t);\n\n\t\tparams = (\n\t\t\tappendParamsToParams(\n\t\t\t\tthis.params,\n\t\t\t\t(params ?? undef),\n\t\t\t)\n\t\t);\n\n\t\treturn (\n\t\t\tgetURL(\n\t\t\t\tevalTemplate,\n\t\t\t\tdelimiters,\n\t\t\t\targs,\n\t\t\t\tparams,\n\t\t\t\turl,\n\t\t\t\t...(\n\t\t\t\t\tbaseURL\n\t\t\t\t\t.reverse()\n\t\t\t\t),\n\t\t\t)\n\t\t);\n\t}\n\n\tgetOptions(\n\t\tconfig,\n\t) {\n\t\tconfig ??= createNullObject();\n\n\t\tconst {\n\t\t\tdecode,\n\t\t\tencode,\n\t\t\tdata,\n\t\t} = config;\n\n\t\tlet {\n\t\t\tmethod,\n\t\t\toptions,\n\t\t} = config;\n\n\t\tmethod = (\n\t\t\tgetNormalizedMethod(\n\t\t\t\tmethod,\n\t\t\t)\n\t\t);\n\t\tif (isUndefined(method)) {\n\t\t\tmethod = this.method;\n\t\t}\n\t\tif (method) {\n\t\t\tmethod = {\n\t\t\t\tmethod,\n\t\t\t};\n\t\t}\n\n\t\tif (isObject(options)) {\n\t\t\toptions = {\n\t\t\t\t...options,\n\t\t\t};\n\t\t\tif ('method' in options) {\n\t\t\t\tconst methodOption = (\n\t\t\t\t\tgetNormalizedMethod(\n\t\t\t\t\t\toptions.method,\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tif (isUndefined(methodOption)) {\n\t\t\t\t\tdelete options.method;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\toptions.method = methodOption;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\toptions = undef;\n\t\t}\n\n\t\toptions = {\n\t\t\tmethod: 'GET',\n\t\t\t...this.options,\n\t\t\t...options,\n\t\t\t...method,\n\t\t};\n\n\t\tmethod = options.method;\n\n\t\toptions.headers = (\n\t\t\tnew Headers(\n\t\t\t\toptions.headers,\n\t\t\t)\n\t\t);\n\t\tconst { headers } = options;\n\n\t\tthis.#setAccept(\n\t\t\theaders,\n\t\t\tdecode,\n\t\t);\n\n\t\tthis.#setContent(\n\t\t\tmethod,\n\t\t\theaders,\n\t\t\toptions,\n\t\t\tencode,\n\t\t\tdata,\n\t\t);\n\n\t\treturn options;\n\t}\n\n\t#setAccept(\n\t\theaders,\n\t\tdecode,\n\t) {\n\t\tdecode = (\n\t\t\tdecode in decodings\n\t\t\t? toString(decode)\n\t\t\t: this.decode\n\t\t);\n\n\t\tlet accept;\n\n\t\tswitch (decode) {\n\n\t\t\tcase 'json':\n\t\t\t\taccept = 'application/json,text/plain,*/*';\n\t\t\t\tbreak;\n\n\t\t\tcase 'text':\n\t\t\t\taccept = 'text/plain,*/*';\n\t\t\t\tbreak;\n\n\t\t\tcase 'url':\n\t\t\t\taccept = 'application/x-www-form-urlencoded,*/*';\n\t\t\t\tbreak;\n\n\t\t\tcase 'form':\n\t\t\t\taccept = 'application/x-www-form-urlencoded,multipart/form-data,*/*';\n\t\t\t\tbreak;\n\n\t\t\tcase 'blob':\n\t\t\tcase 'file':\n\t\t\tcase 'stream':\n\t\t\tcase 'buffer':\n\t\t\t\tif (!headers.has('Accept')) {\n\t\t\t\t\taccept = '*/*';\n\t\t\t\t\t// accept = 'application/octet-stream,*/*';\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'none':\n\t\t\tdefault:\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif (\n\t\t\t!(\n\t\t\t\taccept\n\t\t\t\t|| headers.has('Accept')\n\t\t\t)\n\t\t) {\n\t\t\taccept = '*/*';\n\t\t\t// accept = 'application/json,text/plain,*/*';\n\t\t}\n\n\t\tif (accept) {\n\t\t\theaders.set(\n\t\t\t\t'Accept',\n\t\t\t\taccept,\n\t\t\t);\n\t\t}\n\n\t\treturn headers;\n\t}\n\n\t#setContent(\n\t\tmethod,\n\t\theaders,\n\t\toptions,\n\t\tencode,\n\t\tdata,\n\t) {\n\t\tmethod = (\n\t\t\tgetNormalizedMethod(\n\t\t\t\tmethod,\n\t\t\t)\n\t\t);\n\n\t\tencode = (\n\t\t\tencode in encodings\n\t\t\t? toString(encode)\n\t\t\t: this.encode\n\t\t);\n\n\t\tif (\n\t\t\tmethod in bodylessHttpRequestMethods\n\t\t) {\n\t\t\theaders.delete('Content-Type');\n\t\t\tdelete options.body;\n\t\t}\n\t\telse if (\n\t\t\t!(\n\t\t\t\tisUndefined(data)\n\t\t\t\t&& isUndefined(this.data)\n\t\t\t)\n\t\t) {\n\t\t\tswitch (encode) {\n\n\t\t\t\tcase 'json':\n\t\t\t\t\theaders.set(\n\t\t\t\t\t\t'Content-Type',\n\t\t\t\t\t\t'application/json;charset=UTF-8',\n\t\t\t\t\t);\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getJSONContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'text':\n\t\t\t\t\theaders.set(\n\t\t\t\t\t\t'Content-Type',\n\t\t\t\t\t\t'text/plain;charset=UTF-8',\n\t\t\t\t\t);\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getTextContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'url':\n\t\t\t\t\theaders.set(\n\t\t\t\t\t\t'Content-Type',\n\t\t\t\t\t\t'application/x-www-form-urlencoded;charset=UTF-8',\n\t\t\t\t\t);\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getURLSearchContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'form':\n\t\t\t\t\theaders.delete('Content-Type');\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getFormDataContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'blob':\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getBlobContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'file':\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getFileContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'stream':\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getStreamContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\tcase 'none':\n\t\t\t\tdefault:\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tisUndefined(data)\n\t\t\t\t\t\t? this.data\n\t\t\t\t\t\t: data\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t}\n\t\telse if (\n\t\t\tisUndefined(options.body)\n\t\t) {\n\t\t\theaders.delete('Content-Type');\n\t\t\tdelete options.body;\n\t\t}\n\t}\n\n\t#getJSONContent(\n\t\tdata,\n\t) {\n\t\tif (\n\t\t\tisArray(data)\n\t\t) {\n\t\t\tif (isArray(this.data)) {\n\t\t\t\tdata = [\n\t\t\t\t\t...this.data,\n\t\t\t\t\t...data,\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\t\telse if (\n\t\t\tisObject(data)\n\t\t) {\n\t\t\tif (\n\t\t\t\tisObject(this.data)\n\t\t\t\t&& !isArray(this.data)\n\t\t\t) {\n\t\t\t\tdata = {\n\t\t\t\t\t...this.data,\n\t\t\t\t\t...data,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\telse if (\n\t\t\tisUndefined(data)\n\t\t) {\n\t\t\tdata = this.data;\n\t\t}\n\n\t\treturn (\n\t\t\tJSON.stringify(\n\t\t\t\tdata,\n\t\t\t)\n\t\t);\n\t}\n\n\t#getTextContent(\n\t\tdata,\n\t) {\n\t\treturn (\n\t\t\ttoString(\n\t\t\t\t(\n\t\t\t\t\tisUndefined(data)\n\t\t\t\t\t? this.data\n\t\t\t\t\t: data\n\t\t\t\t),\n\t\t\t)\n\t\t);\n\t}\n\n\t#getURLSearchContent(\n\t\tdata,\n\t) {\n\t\treturn (\n\t\t\tappendParamsToParams(\n\t\t\t\tthis.data,\n\t\t\t\tdata,\n\t\t\t)\n\t\t);\n\t}\n\n\t#getFormDataContent(\n\t\tdata,\n\t) {\n\t\tif (isUndefined(this.data)) {\n\t\t\treturn (\n\t\t\t\ttoFormData(\n\t\t\t\t\tdata,\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tconst formData = (\n\t\t\ttoFormData(\n\t\t\t\tthis.data,\n\t\t\t)\n\t\t);\n\n\t\tif (!isUndefined(data)) {\n\t\t\ttoFormData(\n\t\t\t\tdata,\n\t\t\t)\n\t\t\t.forEach(\n\t\t\t\t(value, key) => {\n\t\t\t\t\tformData.append(\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\treturn formData;\n\t}\n\n\t#getBinaryContent(\n\t\tdata,\n\t\tTypeConstructor,\n\t\ttypeName,\n\t) {\n\t\tdata = (\n\t\t\tisUndefined(data)\n\t\t\t? this.data\n\t\t\t: data\n\t\t);\n\n\t\tif (\n\t\t\tisType(\n\t\t\t\tdata,\n\t\t\t\tTypeConstructor,\n\t\t\t\ttypeName,\n\t\t\t)\n\t\t) {\n\t\t\treturn data;\n\t\t}\n\n\t\tif (!isArray(data)) {\n\t\t\tdata = [data];\n\t\t}\n\n\t\treturn (\n\t\t\tnew TypeConstructor(\n\t\t\t\t(\n\t\t\t\t\tisArray(data[0])\n\t\t\t\t\t? data[0]\n\t\t\t\t\t: [data[0]]\n\t\t\t\t),\n\t\t\t\t...data.slice(1),\n\t\t\t)\n\t\t);\n\t}\n\n\t#getBlobContent(\n\t\tdata,\n\t) {\n\t\treturn (\n\t\t\tthis.#getBinaryContent(\n\t\t\t\tdata,\n\t\t\t\tBlob,\n\t\t\t\t'Blob',\n\t\t\t)\n\t\t);\n\t}\n\n\t#getFileContent(\n\t\tdata,\n\t) {\n\t\treturn (\n\t\t\tthis.#getBinaryContent(\n\t\t\t\tdata,\n\t\t\t\tFile,\n\t\t\t\t'File',\n\t\t\t)\n\t\t);\n\t}\n\n\t#getStreamContent(\n\t\tdata,\n\t) {\n\t\tdata = (\n\t\t\tisUndefined(data)\n\t\t\t? this.data\n\t\t\t: data\n\t\t);\n\n\t\tif (\n\t\t\tisType(\n\t\t\t\tdata,\n\t\t\t\tReadableStream,\n\t\t\t\t'ReadableStream',\n\t\t\t)\n\t\t) {\n\t\t\treturn data;\n\t\t}\n\n\t\treturn (\n\t\t\tnew ReadableStream(\n\t\t\t\t...(\n\t\t\t\t\tisArray(data)\n\t\t\t\t\t? data\n\t\t\t\t\t: [data]\n\t\t\t\t),\n\t\t\t)\n\t\t);\n\t}\n\n\t#trigger(\n\t\ttype,\n\t\tevent,\n\t\tlisteners,\n\t) {\n\t\tevent ??= createNullObject();\n\n\t\tconst {\n\t\t\tdetail,\n\t\t\t// bubbles,\n\t\t\t// cancelable,\n\t\t\t// composed,\n\t\t} = event;\n\n\t\tlisteners = (\n\t\t\tlisteners\n\t\t\t?.[type]\n\t\t);\n\n\t\tif (listeners) {\n\t\t\tlisteners = (\n\t\t\t\tisArray(listeners)\n\t\t\t\t? [\n\t\t\t\t\t...listeners,\n\t\t\t\t]\n\t\t\t\t: [listeners]\n\t\t\t);\n\n\t\t\tlisteners\n\t\t\t.forEach(\n\t\t\t\t(listener, index) => {\n\t\t\t\t\tif (!isArray(listener)) {\n\t\t\t\t\t\tlisteners[index] = [listener];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.addEventListener(\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\t...listeners[index],\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent(\n\t\t\t\ttype,\n\t\t\t\t{\n\t\t\t\t\tdetail,\n\t\t\t\t\t// bubbles,\n\t\t\t\t\t// cancelable,\n\t\t\t\t\t// composed,\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\tif (listeners) {\n\t\t\tlisteners\n\t\t\t.forEach(\n\t\t\t\t(listener) => {\n\t\t\t\t\tthis.removeEventListener(\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\t...listener,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t}\n\n\tfetch(\n\t\t...config\n\t) {\n\t\tlet url;\n\n\t\tif (isURL(config[0])) {\n\t\t\t[url, config] = config;\n\t\t}\n\t\telse {\n\t\t\t[config] = config;\n\t\t}\n\n\t\tconfig = (\n\t\t\tgetNormalizedObject(\n\t\t\t\tfetchKeys,\n\t\t\t\tconfig,\n\t\t\t)\n\t\t);\n\n\t\tif (!isUndefined(url)) {\n\t\t\tconfig.url = url;\n\t\t}\n\n\t\tconst { listeners } = config;\n\n\t\tconst detail = {\n\t\t\tinstance: this,\n\t\t\tfetchConfig: config,\n\t\t};\n\n\t\tthis.#trigger(\n\t\t\t'start',\n\t\t\t{\n\t\t\t\tdetail,\n\t\t\t},\n\t\t\tlisteners,\n\t\t);\n\n\t\tdetail.fetchUrl = (\n\t\t\tthis.getURL(\n\t\t\t\tconfig,\n\t\t\t)\n\t\t);\n\t\tdetail.fetchOptions = (\n\t\t\tthis.getOptions(\n\t\t\t\tconfig,\n\t\t\t)\n\t\t);\n\n\t\tconst call = (\n\t\t\tfetch(\n\t\t\t\tdetail.fetchUrl,\n\t\t\t\tdetail.fetchOptions,\n\t\t\t)\n\t\t);\n\n\t\tdetail.fetch = call;\n\n\t\tthis.#trigger(\n\t\t\t'started',\n\t\t\t{\n\t\t\t\tdetail,\n\t\t\t},\n\t\t\tlisteners,\n\t\t);\n\n\t\treturn (\n\t\t\tdetail\n\t\t\t.fetch\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\tdetail.response = response;\n\n\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t'loaded',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (!detail.response.ok) {\n\t\t\t\t\t\tthrow new ResponseError(\n\t\t\t\t\t\t\tdetail.response,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t'checked',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners,\n\t\t\t\t\t);\n\n\t\t\t\t\treturn detail.response;\n\t\t\t\t},\n\t\t\t)\n\t\t\t.then(\n\t\t\t\tasync (response) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tresponse.status in bodylessHttpResponseStatusCodes\n\t\t\t\t\t\t|| response.body == null\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t\t'bodyless',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlisteners,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet { decode } = config;\n\n\t\t\t\t\t\tdecode = (\n\t\t\t\t\t\t\ttoString(decode ?? '')\n\t\t\t\t\t\t\t|| this.decode\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tdecode = decodings[decode];\n\n\t\t\t\t\t\tif (decode) {\n\t\t\t\t\t\t\tresponse.data = (\n\t\t\t\t\t\t\t\ttypeof decode === 'function'\n\t\t\t\t\t\t\t\t? await (\n\t\t\t\t\t\t\t\t\tdecode(\n\t\t\t\t\t\t\t\t\t\tresponse,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t: await (\n\t\t\t\t\t\t\t\t\tresponse[\n\t\t\t\t\t\t\t\t\t\tdecode\n\t\t\t\t\t\t\t\t\t]()\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t\t\t'decoded',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlisteners,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresponse.data = (\n\t\t\t\t\t\t\t\tresponse.body\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t\t\t'unprocessed',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlisteners,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn detail.response;\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch(\n\t\t\t\t(error) => {\n\t\t\t\t\tdetail.error = error;\n\n\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (detail.error != null) {\n\t\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t\t'uncatched',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlisteners,\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tthrow detail.error;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t'catched',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners,\n\t\t\t\t\t);\n\n\t\t\t\t\treturn detail.response;\n\t\t\t\t},\n\t\t\t)\n\t\t\t.finally(\n\t\t\t\t() => {\n\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t'end',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t)\n\t\t);\n\t}\n\n\tcreate(\n\t\t...config\n\t) {\n\t\tif (config[0] === true) {\n\t\t\tconfig[0] = this.getConfig();\n\t\t}\n\n\t\treturn (\n\t\t\t// eslint-disable-next-line no-use-before-define\n\t\t\tcreateCher(\n\t\t\t\t...config,\n\t\t\t)\n\t\t);\n\t}\n\n}\n\nfunction createCher(\n\t...config\n) {\n\tconst instance = (\n\t\tnew Cher(\n\t\t\t...config,\n\t\t)\n\t);\n\n\tconst cher = (\n\t\tinstance.fetch.bind(\n\t\t\tinstance,\n\t\t)\n\t);\n\n\t// properties\n\t[\n\t\t'method',\n\t\t'evalTemplate',\n\t\t'delimiters',\n\t\t'baseURL',\n\t\t'url',\n\t\t'args',\n\t\t'params',\n\t\t'decode',\n\t\t'encode',\n\t\t'data',\n\t\t'options',\n\t]\n\t.forEach(\n\t\t(property) => {\n\t\t\tObject.defineProperty(\n\t\t\t\tcher,\n\t\t\t\tproperty,\n\t\t\t\t{\n\t\t\t\t\tget() {\n\t\t\t\t\t\treturn instance[property];\n\t\t\t\t\t},\n\t\t\t\t\tset(value) {\n\t\t\t\t\t\tinstance[property] = value;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t},\n\t);\n\n\t// methods\n\t[\n\t\t// super (EventTarget)\n\t\t'addEventListener',\n\t\t'removeEventListener',\n\t\t'dispatchEvent',\n\t\t// own (Cher)\n\t\t'getDefault',\n\t\t'setDefault',\n\t\t'resetDefault',\n\t\t'getDefaults',\n\t\t'setDefaults',\n\t\t'resetDefaults',\n\t\t'reset',\n\t\t'set',\n\t\t'getConfig',\n\t\t'getURL',\n\t\t'getOptions',\n\t\t'fetch',\n\t\t'create',\n\t]\n\t.forEach(\n\t\t(method) => {\n\t\t\tObject.defineProperty(\n\t\t\t\tcher,\n\t\t\t\tmethod,\n\t\t\t\t{\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: (\n\t\t\t\t\t\tinstance[method].bind(\n\t\t\t\t\t\t\tinstance,\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t);\n\t\t},\n\t);\n\n\treturn cher;\n}\n\nexport default createCher();\n"],"names":["undef","freezeObject","object","Object","freeze","createNullObject","create","getNormalizedObject","keys","_object","normalizedObject","i","length","toNullObject","httpRequestMethods","GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH","bodylessHttpRequestMethods","bodylessHttpResponseStatusCodes","toString","String","isUndefined","value","isObject","isArray","Array","isType","TypeConstructor","typeName","prototype","call","concat","evalSimpleTemplate","template","args","delimiters","_delimiters$","_delimiters$2","_delimiters","_delimiters2","result","forEach","key","split","join","getURLObject","url","_document","_location","_len","arguments","bases","_key","base","document","baseURI","location","href","URL","appendParamsToParams","params1","params2","URLSearchParams","filter","Boolean","appendParamsToURL","params","_len2","_key2","urlObject","searchParams","append","toFormData","data","FormData","HTMLFormElement","formData","ResponseError","Error","constructor","response","message","super","status","statusText","captureStackTrace","this","name","fetch","_json","decodings","json","_asyncToGenerator","text","JSON","parse","_x","apply","form","blob","file","stream","buffer","none","encodings","defaults","method","evalTemplate","baseURL","decode","encode","options","initialDefaults","defaultKeys","instanceKeys","fetchKeys","getNormalizedMethod","toUpperCase","isURL","Cher","EventTarget","_classPrivateMethodInitSpec","_trigger","_getStreamContent","_getFileContent","_getBlobContent","_getBinaryContent","_getFormDataContent","_getURLSearchContent","_getTextContent","_getJSONContent","_setContent","_setAccept","_classPrivateFieldInitSpec","_method","writable","_evalTemplate","_baseURL","_url","_args","_params","_decode","_encode","_data","_options","reset","set","_classPrivateFieldGet","_classPrivateFieldSet","_value$","_value$2","_value","reduce","reducedItems","item","_item","push","_objectSpread","getDefault","setDefault","resetDefault","getDefaults","setDefaults","_config","config","resetDefaults","initial","values","_config2","getConfig","getURL","_config3","_url2","_args2","_params2","_len3","_key3","_item2","map","reverse","getOptions","_config4","methodOption","headers","Headers","_classPrivateMethodGet","_this","_len4","_key4","listeners","detail","instance","fetchConfig","_trigger2","fetchUrl","fetchOptions","then","ok","_ref","body","_decode2","_x2","catch","error","finally","_len5","_key5","createCher","accept","has","delete","_getJSONContent2","_getTextContent2","_getURLSearchContent2","_getFormDataContent2","_getBlobContent2","_getFileContent2","_getStreamContent2","stringify","slice","Blob","File","ReadableStream","type","event","_event","_listeners","listener","index","addEventListener","dispatchEvent","CustomEvent","removeEventListener","_len6","_key6","cher","bind","property","defineProperty","get","configurable"],"mappings":"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"}