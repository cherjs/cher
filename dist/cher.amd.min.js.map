{"version":3,"file":"cher.amd.min.js","sources":["../src/utilities.js","../src/response-error.js","../src/index.js"],"sourcesContent":["// eslint-disable-next-line no-void\nexport const undef = void 0; // undefined\n\nexport function freezeObject(\n\tobject,\n) {\n\treturn Object.freeze(object);\n}\n\nexport function createNullObject() {\n\treturn Object.create(null);\n}\n\nexport function getNormalizedObject(\n\tkeys,\n\tobject,\n) {\n\tobject ??= createNullObject();\n\n\tconst normalizedObject = createNullObject();\n\n\tfor (let i = 0; i < keys.length; ++i) {\n\t\tnormalizedObject[\n\t\t\tkeys[i]\n\t\t] = (\n\t\t\tobject[\n\t\t\t\tkeys[i]\n\t\t\t]\n\t\t);\n\t}\n\n\treturn normalizedObject;\n}\n\nexport function toNullObject(\n\tobject,\n) {\n\treturn (\n\t\tgetNormalizedObject(\n\t\t\tObject.keys(object),\n\t\t\tobject,\n\t\t)\n\t);\n}\n\nexport const httpRequestMethods = (\n\tfreezeObject(\n\t\ttoNullObject(\n\t\t\t{\n\t\t\t\tGET: 1,\n\t\t\t\tHEAD: 1,\n\t\t\t\tPOST: 1,\n\t\t\t\tPUT: 1,\n\t\t\t\tDELETE: 1,\n\t\t\t\tCONNECT: 1,\n\t\t\t\tOPTIONS: 1,\n\t\t\t\tTRACE: 1,\n\t\t\t\tPATCH: 1,\n\t\t\t},\n\t\t),\n\t)\n);\n\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/HEAD\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/CONNECT\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/OPTIONS\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/TRACE\nexport const bodylessHttpRequestMethods = (\n\tfreezeObject(\n\t\ttoNullObject(\n\t\t\t{\n\t\t\t\tGET: 1,\n\t\t\t\tHEAD: 1,\n\t\t\t\tCONNECT: 1,\n\t\t\t\tOPTIONS: 1,\n\t\t\t\tTRACE: 1,\n\t\t\t},\n\t\t),\n\t)\n);\n\n// https://fetch.spec.whatwg.org/#statuses\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/101\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/103\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/205\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/304\nexport const bodylessHttpResponseStatusCodes = (\n\tfreezeObject(\n\t\ttoNullObject(\n\t\t\t{\n\t\t\t\t101: 1,\n\t\t\t\t103: 1,\n\t\t\t\t204: 1,\n\t\t\t\t205: 1,\n\t\t\t\t304: 1,\n\t\t\t},\n\t\t),\n\t)\n);\n\nexport const toString = String;\n\nexport function isUndefined(\n\tvalue,\n) {\n\treturn (typeof value === 'undefined');\n}\n\nexport function isObject(\n\tvalue,\n) {\n\treturn (Object(value) === value);\n}\n\nexport function isArray(\n\tvalue,\n) {\n\treturn Array.isArray(value);\n}\n\nexport function isType(\n\tvalue,\n\tTypeConstructor,\n\ttypeName,\n) {\n\treturn (\n\t\tvalue instanceof TypeConstructor\n\t\t|| Object.prototype.toString.call(value) === `[object ${typeName}]`\n\t);\n}\n\nexport function evalSimpleTemplate(\n\ttemplate,\n\targs,\n\tdelimiters,\n) {\n\tdelimiters = (\n\t\tisObject(delimiters)\n\t\t? [\n\t\t\ttoString(delimiters[0] ?? ''),\n\t\t\ttoString(delimiters[1] ?? ''),\n\t\t]\n\t\t: [\n\t\t\ttoString(delimiters ?? ''),\n\t\t\ttoString(delimiters ?? ''),\n\t\t]\n\t);\n\n\tlet result = toString(template ?? '');\n\n\tif (isObject(args)) {\n\t\tObject\n\t\t.keys(\n\t\t\targs,\n\t\t)\n\t\t.forEach(\n\t\t\t(key) => {\n\t\t\t\tresult = (\n\t\t\t\t\tresult\n\t\t\t\t\t.split(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t`${\n\t\t\t\t\t\t\t\tdelimiters[0]\n\t\t\t\t\t\t\t}${\n\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t}${\n\t\t\t\t\t\t\t\tdelimiters[1]\n\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t),\n\t\t\t\t\t)\n\t\t\t\t\t.join(\n\t\t\t\t\t\targs[key],\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t}\n\n\treturn result;\n}\n\nexport const getURLObject = (\n\tfunction getURLObject(\n\t\turl,\n\t\t...bases\n\t) {\n\t\tconst base = (\n\t\t\tbases.length\n\t\t\t? getURLObject(...bases)\n\t\t\t: (\n\t\t\t\tdocument?.baseURI\n\t\t\t\t// eslint-disable-next-line no-restricted-globals\n\t\t\t\t|| location?.href\n\t\t\t)\n\t\t);\n\n\t\t// because of Edge Legacy (before Edge 79)\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/URL/URL#examples\n\t\tif (toString(url) === '') {\n\t\t\turl = base;\n\t\t}\n\n\t\treturn (\n\t\t\tnew URL(\n\t\t\t\turl,\n\t\t\t\tbase,\n\t\t\t)\n\t\t);\n\t}\n);\n\nexport function appendParamsToParams(\n\tparams1,\n\tparams2,\n) {\n\treturn (\n\t\t[\n\t\t\t(\n\t\t\t\tnew URLSearchParams(\n\t\t\t\t\t(params1 ?? undef),\n\t\t\t\t)\n\t\t\t\t.toString()\n\t\t\t),\n\t\t\t(\n\t\t\t\tnew URLSearchParams(\n\t\t\t\t\t(params2 ?? undef),\n\t\t\t\t)\n\t\t\t\t.toString()\n\t\t\t),\n\t\t]\n\t\t.filter(Boolean)\n\t\t.join('&')\n\t);\n}\n\nexport function appendParamsToURL(\n\tparams,\n\turl,\n\t...bases\n) {\n\tconst urlObject = getURLObject(\n\t\turl,\n\t\t...bases,\n\t);\n\n\t(\n\t\tnew URLSearchParams(\n\t\t\tparams,\n\t\t)\n\t)\n\t.forEach(\n\t\t(\n\t\t\tvalue,\n\t\t\tkey,\n\t\t) => {\n\t\t\turlObject.searchParams.append(\n\t\t\t\tkey,\n\t\t\t\tvalue,\n\t\t\t);\n\t\t},\n\t);\n\n\treturn urlObject.href;\n}\n\nexport function getURL(\n\tevalTemplate,\n\tdelimiters,\n\targs,\n\tparams,\n\turl,\n\t...bases\n) {\n\treturn (\n\t\tappendParamsToURL(\n\t\t\tparams,\n\t\t\t...(\n\t\t\t\t[\n\t\t\t\t\turl,\n\t\t\t\t\t...bases,\n\t\t\t\t]\n\t\t\t\t.map(\n\t\t\t\t\t(value) => (\n\t\t\t\t\t\tevalTemplate(\n\t\t\t\t\t\t\ttoString(value ?? ''),\n\t\t\t\t\t\t\targs,\n\t\t\t\t\t\t\tdelimiters,\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t)\n\t\t\t),\n\t\t)\n\t);\n}\n\nexport function toFormData(\n\tdata,\n) {\n\tif (\n\t\tisType(\n\t\t\tdata,\n\t\t\tFormData,\n\t\t\t'FormData',\n\t\t)\n\t) {\n\t\treturn data;\n\t}\n\n\tif (\n\t\tisType(\n\t\t\tdata,\n\t\t\tHTMLFormElement,\n\t\t\t'HTMLFormElement',\n\t\t)\n\t) {\n\t\treturn new FormData(data);\n\t}\n\n\tconst formData = new FormData();\n\n\tif (isArray(data)) {\n\t\tfor (let i = 0; i < data.length; ++i) {\n\t\t\tformData.append(\n\t\t\t\t...data[i],\n\t\t\t);\n\t\t}\n\t\treturn formData;\n\t}\n\n\tif (\n\t\tisType(\n\t\t\tdata,\n\t\t\tURLSearchParams,\n\t\t\t'URLSearchParams',\n\t\t)\n\t) {\n\t\tdata.forEach(\n\t\t\t(\n\t\t\t\tvalue,\n\t\t\t\tkey,\n\t\t\t) => {\n\t\t\t\tformData.append(\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue,\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t\treturn formData;\n\t}\n\n\tif (isObject(data)) {\n\t\tObject\n\t\t.keys(\n\t\t\tdata,\n\t\t)\n\t\t.forEach(\n\t\t\t(key) => {\n\t\t\t\tformData.append(\n\t\t\t\t\tkey,\n\t\t\t\t\t...(\n\t\t\t\t\t\tisArray(data[key])\n\t\t\t\t\t\t? data[key]\n\t\t\t\t\t\t: [data[key]]\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t\treturn formData;\n\t}\n\n\treturn (\n\t\tnew FormData(\n\t\t\tdata,\n\t\t)\n\t);\n}\n","class ResponseError extends Error {\n\n\tconstructor(\n\t\tresponse,\n\t\tmessage,\n\t\t...args\n\t) {\n\t\tsuper(\n\t\t\t(\n\t\t\t\tmessage == null\n\t\t\t\t? (\n\t\t\t\t\t`HTTP ${\n\t\t\t\t\t\tresponse.status\n\t\t\t\t\t\t|| '<unknown-status>'\n\t\t\t\t\t} ${\n\t\t\t\t\t\tresponse.statusText\n\t\t\t\t\t\t|| ''\n\t\t\t\t\t}`\n\t\t\t\t)\n\t\t\t\t: message\n\t\t\t),\n\t\t\t...args,\n\t\t);\n\n\t\tif (Error.captureStackTrace) {\n\t\t\tError.captureStackTrace(\n\t\t\t\tthis,\n\t\t\t\tResponseError,\n\t\t\t);\n\t\t}\n\n\t\tthis.name = 'ResponseError';\n\t\tthis.response = response;\n\t}\n\n}\n\nexport default ResponseError;\n","import {\n\tundef,\n\tfreezeObject,\n\tcreateNullObject,\n\tgetNormalizedObject,\n\ttoNullObject,\n\thttpRequestMethods,\n\tbodylessHttpRequestMethods,\n\tbodylessHttpResponseStatusCodes,\n\ttoString,\n\tisUndefined,\n\tisObject,\n\tisArray,\n\tisType,\n\tevalSimpleTemplate,\n\tappendParamsToParams,\n\tgetURL,\n\ttoFormData,\n} from './utilities';\nimport ResponseError from './response-error';\n\nconst decodings = (\n\tfreezeObject(\n\t\ttoNullObject(\n\t\t\t{\n\t\t\t\tjson: (\n\t\t\t\t\tasync (response) => {\n\t\t\t\t\t\tconst text = await response.text();\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\t? JSON.parse(text)\n\t\t\t\t\t\t\t: undef\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t\t'strict-json': 'json',\n\t\t\t\ttext: 'text',\n\t\t\t\turl: 'formData',\n\t\t\t\tform: 'formData',\n\t\t\t\tblob: 'blob',\n\t\t\t\tfile: 'blob',\n\t\t\t\tstream: false,\n\t\t\t\tbuffer: 'arrayBuffer',\n\t\t\t\tnone: undef,\n\t\t\t},\n\t\t),\n\t)\n);\n\nconst encodings = (\n\tfreezeObject(\n\t\ttoNullObject(\n\t\t\t{\n\t\t\t\tjson: 1,\n\t\t\t\ttext: 1,\n\t\t\t\turl: 1,\n\t\t\t\tform: 1,\n\t\t\t\tblob: 1,\n\t\t\t\tfile: 1,\n\t\t\t\tstream: 1,\n\t\t\t\tbuffer: 1,\n\t\t\t\tnone: 1,\n\t\t\t},\n\t\t),\n\t)\n);\n\nconst defaults = (\n\ttoNullObject(\n\t\t{\n\t\t\tmethod: undef,\n\t\t\tevalTemplate: () => evalSimpleTemplate,\n\t\t\tdelimiters: () => ['{', '}'],\n\t\t\tbaseURL: undef,\n\t\t\turl: undef,\n\t\t\targs: undef,\n\t\t\tparams: undef,\n\t\t\tdecode: 'json',\n\t\t\tencode: 'json',\n\t\t\tdata: undef,\n\t\t\toptions: undef,\n\t\t},\n\t)\n);\n\nconst initialDefaults = (\n\t{\n\t\t...defaults,\n\t}\n);\n\nconst defaultKeys = (\n\tObject\n\t.keys(\n\t\tdefaults,\n\t)\n);\n\nconst instanceKeys = [\n\t...defaultKeys,\n];\n\nconst fetchKeys = [\n\t...defaultKeys,\n\t'listeners',\n];\n\nfunction getNormalizedMethod(\n\tvalue,\n) {\n\tvalue = toString(value).toUpperCase();\n\treturn (\n\t\tvalue in httpRequestMethods\n\t\t? value\n\t\t: undef\n\t);\n}\n\nfunction isURL(\n\tvalue,\n) {\n\treturn (\n\t\ttypeof value === 'string'\n\t\t|| isType(\n\t\t\tvalue,\n\t\t\tURL,\n\t\t\t'URL',\n\t\t)\n\t);\n}\n\nclass Cher extends EventTarget {\n\n\tconstructor(\n\t\t...config\n\t) {\n\t\tsuper();\n\n\t\tthis.reset();\n\n\t\tthis.set(\n\t\t\t...config,\n\t\t);\n\t}\n\n\t/* Properties */\n\n\t// supported\n\n\t// eslint-disable-next-line class-methods-use-this\n\tget supported() {\n\t\treturn (typeof fetch === 'function');\n\t}\n\n\t// method\n\n\t#method;\n\n\tget method() {\n\t\treturn this.#method;\n\t}\n\n\tset method(\n\t\tvalue,\n\t) {\n\t\tthis.#method = (\n\t\t\tgetNormalizedMethod(\n\t\t\t\tvalue,\n\t\t\t)\n\t\t);\n\t}\n\n\t// evalTemplate\n\n\t#evalTemplate;\n\n\tget evalTemplate() {\n\t\treturn this.#evalTemplate;\n\t}\n\n\tset evalTemplate(\n\t\tvalue,\n\t) {\n\t\tthis.#evalTemplate = (\n\t\t\ttypeof value === 'function'\n\t\t\t? value\n\t\t\t: (template) => template\n\t\t);\n\t}\n\n\t// delimiters\n\n\t#delimiters;\n\n\tget delimiters() {\n\t\treturn this.#delimiters;\n\t}\n\n\tset delimiters(\n\t\tvalue,\n\t) {\n\t\tthis.#delimiters = (\n\t\t\tisObject(value)\n\t\t\t? [\n\t\t\t\ttoString(value[0] ?? ''),\n\t\t\t\ttoString(value[1] ?? ''),\n\t\t\t]\n\t\t\t: [\n\t\t\t\ttoString(value ?? ''),\n\t\t\t\ttoString(value ?? ''),\n\t\t\t]\n\t\t);\n\t}\n\n\t// baseURL\n\n\t#baseURL = [];\n\n\tget baseURL() {\n\t\treturn this.#baseURL;\n\t}\n\n\tset baseURL(\n\t\tvalue,\n\t) {\n\t\tvalue ??= [];\n\n\t\tif (!isArray(value)) {\n\t\t\tvalue = [\n\t\t\t\t...this.#baseURL,\n\t\t\t\tvalue,\n\t\t\t];\n\t\t}\n\n\t\tthis.#baseURL = (\n\t\t\tvalue\n\t\t\t.reduce(\n\t\t\t\t(\n\t\t\t\t\treducedItems,\n\t\t\t\t\titem,\n\t\t\t\t) => {\n\t\t\t\t\titem = toString(item ?? '');\n\n\t\t\t\t\tif (item) {\n\t\t\t\t\t\treducedItems.push(\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn reducedItems;\n\t\t\t\t},\n\t\t\t\t[],\n\t\t\t)\n\t\t);\n\t}\n\n\t// url\n\n\t#url;\n\n\tget url() {\n\t\treturn this.#url;\n\t}\n\n\tset url(\n\t\tvalue,\n\t) {\n\t\tthis.#url = toString(value ?? '');\n\t}\n\n\t// args\n\n\t#args;\n\n\tget args() {\n\t\treturn this.#args;\n\t}\n\n\tset args(\n\t\tvalue,\n\t) {\n\t\tthis.#args = (value ?? undef);\n\t}\n\n\t// params\n\n\t#params;\n\n\tget params() {\n\t\treturn this.#params;\n\t}\n\n\tset params(\n\t\tvalue,\n\t) {\n\t\tthis.#params = (value ?? undef);\n\t}\n\n\t// decode\n\n\t#decode;\n\n\tget decode() {\n\t\treturn this.#decode;\n\t}\n\n\tset decode(\n\t\tvalue,\n\t) {\n\t\tthis.#decode = (\n\t\t\tvalue in decodings\n\t\t\t? toString(value)\n\t\t\t: undef\n\t\t);\n\t}\n\n\t// encode\n\n\t#encode;\n\n\tget encode() {\n\t\treturn this.#encode;\n\t}\n\n\tset encode(\n\t\tvalue,\n\t) {\n\t\tthis.#encode = (\n\t\t\tvalue in encodings\n\t\t\t? toString(value)\n\t\t\t: undef\n\t\t);\n\t}\n\n\t// data\n\n\t#data;\n\n\tget data() {\n\t\treturn this.#data;\n\t}\n\n\tset data(\n\t\tvalue,\n\t) {\n\t\tthis.#data = value;\n\t}\n\n\t// options\n\n\t#options;\n\n\tget options() {\n\t\treturn this.#options;\n\t}\n\n\tset options(\n\t\tvalue,\n\t) {\n\t\tif (isObject(value)) {\n\t\t\tvalue = {\n\t\t\t\t...value,\n\t\t\t};\n\t\t\tif ('method' in value) {\n\t\t\t\tconst method = (\n\t\t\t\t\tgetNormalizedMethod(\n\t\t\t\t\t\tvalue.method,\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tif (isUndefined(method)) {\n\t\t\t\t\tdelete value.method;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvalue.method = method;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tvalue = undef;\n\t\t}\n\t\tthis.#options = value;\n\t}\n\n\t/* Methods */\n\n\t// eslint-disable-next-line class-methods-use-this\n\tgetDefault(\n\t\tkey,\n\t) {\n\t\treturn defaults[key];\n\t}\n\n\tsetDefault(\n\t\tkey,\n\t\tvalue,\n\t\treset,\n\t) {\n\t\tif (key in defaultKeys) {\n\t\t\tdefaults[key] = value;\n\t\t\tif (reset) {\n\t\t\t\tthis[key] = (\n\t\t\t\t\ttypeof defaults[key] === 'function'\n\t\t\t\t\t? defaults[key]()\n\t\t\t\t\t: defaults[key]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tresetDefault(\n\t\tkey,\n\t\treset,\n\t) {\n\t\tthis.setDefault(\n\t\t\tkey,\n\t\t\tinitialDefaults[key],\n\t\t\treset,\n\t\t);\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tgetDefaults() {\n\t\treturn (\n\t\t\tgetNormalizedObject(\n\t\t\t\tdefaultKeys,\n\t\t\t\tdefaults,\n\t\t\t)\n\t\t);\n\t}\n\n\tsetDefaults(\n\t\t...config\n\t) {\n\t\tlet url;\n\t\tlet reset;\n\n\t\tif (isURL(config[0])) {\n\t\t\t[url, config, reset] = config;\n\t\t\tconfig.url = url;\n\t\t}\n\t\telse {\n\t\t\t[config, reset] = config;\n\t\t}\n\n\t\tconfig ??= createNullObject();\n\n\t\tdefaultKeys\n\t\t.forEach(\n\t\t\t(key) => {\n\t\t\t\tif (key in config) {\n\t\t\t\t\tthis.setDefault(\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tconfig[key],\n\t\t\t\t\t\treset,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\n\t\tif (!isUndefined(url)) {\n\t\t\tthis.setDefault(\n\t\t\t\t'url',\n\t\t\t\turl,\n\t\t\t\treset,\n\t\t\t);\n\t\t}\n\t}\n\n\tresetDefaults(\n\t\treset,\n\t) {\n\t\tthis.setDefaults(\n\t\t\tinitialDefaults,\n\t\t\treset,\n\t\t);\n\t}\n\n\treset(\n\t\tinitial,\n\t) {\n\t\tconst values = (\n\t\t\tinitial\n\t\t\t? initialDefaults\n\t\t\t: defaults\n\t\t);\n\n\t\tdefaultKeys\n\t\t.forEach(\n\t\t\t(key) => {\n\t\t\t\tthis[key] = (\n\t\t\t\t\ttypeof values[key] === 'function'\n\t\t\t\t\t? values[key]()\n\t\t\t\t\t: values[key]\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t}\n\n\tset(\n\t\t...config\n\t) {\n\t\tlet url;\n\n\t\tif (isURL(config[0])) {\n\t\t\t[url, config] = config;\n\t\t}\n\t\telse {\n\t\t\t[config] = config;\n\t\t}\n\n\t\tconfig ??= createNullObject();\n\n\t\tinstanceKeys\n\t\t.forEach(\n\t\t\t(key) => {\n\t\t\t\tif (key in config) {\n\t\t\t\t\tthis[key] = config[key];\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\n\t\tif (!isUndefined(url)) {\n\t\t\tthis.url = url;\n\t\t}\n\t}\n\n\tgetConfig() {\n\t\treturn (\n\t\t\tgetNormalizedObject(\n\t\t\t\tinstanceKeys,\n\t\t\t\tthis,\n\t\t\t)\n\t\t);\n\t}\n\n\tgetURL(\n\t\t...config\n\t) {\n\t\tlet url;\n\n\t\tif (isURL(config[0])) {\n\t\t\t[url, config] = config;\n\t\t}\n\t\telse {\n\t\t\t[config] = config;\n\t\t}\n\n\t\tconfig ??= createNullObject();\n\n\t\tlet {\n\t\t\tevalTemplate,\n\t\t\tdelimiters,\n\t\t\tbaseURL,\n\t\t\targs,\n\t\t\tparams,\n\t\t} = config;\n\n\t\tif (isUndefined(url)) {\n\t\t\t({ url } = config);\n\t\t}\n\n\t\tevalTemplate = (\n\t\t\ttypeof evalTemplate === 'function'\n\t\t\t? evalTemplate\n\t\t\t: this.evalTemplate\n\t\t);\n\n\t\tdelimiters ??= this.delimiters;\n\n\t\tbaseURL = [\n\t\t\t...this.baseURL,\n\t\t\t...(\n\t\t\t\t(\n\t\t\t\t\tisArray(baseURL)\n\t\t\t\t\t? baseURL\n\t\t\t\t\t: [baseURL]\n\t\t\t\t)\n\t\t\t\t.reduce(\n\t\t\t\t\t(\n\t\t\t\t\t\treducedItems,\n\t\t\t\t\t\titem,\n\t\t\t\t\t) => {\n\t\t\t\t\t\titem = toString(item ?? '');\n\n\t\t\t\t\t\tif (item) {\n\t\t\t\t\t\t\treducedItems.push(\n\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn reducedItems;\n\t\t\t\t\t},\n\t\t\t\t\t[],\n\t\t\t\t)\n\t\t\t),\n\t\t];\n\n\t\turl = toString(url ?? this.url);\n\n\t\targs = (\n\t\t\t{\n\t\t\t\t...this.args,\n\t\t\t\t...(args ?? undef),\n\t\t\t}\n\t\t);\n\n\t\tparams = (\n\t\t\tappendParamsToParams(\n\t\t\t\tthis.params,\n\t\t\t\t(params ?? undef),\n\t\t\t)\n\t\t);\n\n\t\treturn (\n\t\t\tgetURL(\n\t\t\t\tevalTemplate,\n\t\t\t\tdelimiters,\n\t\t\t\targs,\n\t\t\t\tparams,\n\t\t\t\turl,\n\t\t\t\t...(\n\t\t\t\t\tbaseURL\n\t\t\t\t\t.reverse()\n\t\t\t\t),\n\t\t\t)\n\t\t);\n\t}\n\n\tgetOptions(\n\t\tconfig,\n\t) {\n\t\tconfig ??= createNullObject();\n\n\t\tconst {\n\t\t\tdecode,\n\t\t\tencode,\n\t\t\tdata,\n\t\t} = config;\n\n\t\tlet {\n\t\t\tmethod,\n\t\t\toptions,\n\t\t} = config;\n\n\t\tmethod = (\n\t\t\tgetNormalizedMethod(\n\t\t\t\tmethod,\n\t\t\t)\n\t\t);\n\t\tif (isUndefined(method)) {\n\t\t\tmethod = this.method;\n\t\t}\n\t\tif (method) {\n\t\t\tmethod = {\n\t\t\t\tmethod,\n\t\t\t};\n\t\t}\n\n\t\tif (isObject(options)) {\n\t\t\toptions = {\n\t\t\t\t...options,\n\t\t\t};\n\t\t\tif ('method' in options) {\n\t\t\t\tconst methodOption = (\n\t\t\t\t\tgetNormalizedMethod(\n\t\t\t\t\t\toptions.method,\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tif (isUndefined(methodOption)) {\n\t\t\t\t\tdelete options.method;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\toptions.method = methodOption;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\toptions = undef;\n\t\t}\n\n\t\toptions = {\n\t\t\tmethod: 'GET',\n\t\t\t...this.options,\n\t\t\t...options,\n\t\t\t...method,\n\t\t};\n\n\t\tmethod = options.method;\n\n\t\toptions.headers = (\n\t\t\tnew Headers(\n\t\t\t\toptions.headers,\n\t\t\t)\n\t\t);\n\t\tconst { headers } = options;\n\n\t\tthis.#setAccept(\n\t\t\theaders,\n\t\t\tdecode,\n\t\t);\n\n\t\tthis.#setContent(\n\t\t\tmethod,\n\t\t\theaders,\n\t\t\toptions,\n\t\t\tencode,\n\t\t\tdata,\n\t\t);\n\n\t\treturn options;\n\t}\n\n\t#setAccept(\n\t\theaders,\n\t\tdecode,\n\t) {\n\t\tdecode = (\n\t\t\tdecode in decodings\n\t\t\t? toString(decode)\n\t\t\t: this.decode\n\t\t);\n\n\t\tlet accept;\n\n\t\tswitch (decode) {\n\n\t\t\tcase 'json':\n\t\t\t\taccept = 'application/json,text/plain,*/*';\n\t\t\t\tbreak;\n\n\t\t\tcase 'text':\n\t\t\t\taccept = 'text/plain,*/*';\n\t\t\t\tbreak;\n\n\t\t\tcase 'url':\n\t\t\t\taccept = 'application/x-www-form-urlencoded,*/*';\n\t\t\t\tbreak;\n\n\t\t\tcase 'form':\n\t\t\t\taccept = 'application/x-www-form-urlencoded,multipart/form-data,*/*';\n\t\t\t\tbreak;\n\n\t\t\tcase 'blob':\n\t\t\tcase 'file':\n\t\t\tcase 'stream':\n\t\t\tcase 'buffer':\n\t\t\t\tif (!headers.has('Accept')) {\n\t\t\t\t\taccept = '*/*';\n\t\t\t\t\t// accept = 'application/octet-stream,*/*';\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'none':\n\t\t\tdefault:\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif (\n\t\t\t!(\n\t\t\t\taccept\n\t\t\t\t|| headers.has('Accept')\n\t\t\t)\n\t\t) {\n\t\t\taccept = '*/*';\n\t\t\t// accept = 'application/json,text/plain,*/*';\n\t\t}\n\n\t\tif (accept) {\n\t\t\theaders.set(\n\t\t\t\t'Accept',\n\t\t\t\taccept,\n\t\t\t);\n\t\t}\n\n\t\treturn headers;\n\t}\n\n\t#setContent(\n\t\tmethod,\n\t\theaders,\n\t\toptions,\n\t\tencode,\n\t\tdata,\n\t) {\n\t\tmethod = (\n\t\t\tgetNormalizedMethod(\n\t\t\t\tmethod,\n\t\t\t)\n\t\t);\n\n\t\tencode = (\n\t\t\tencode in encodings\n\t\t\t? toString(encode)\n\t\t\t: this.encode\n\t\t);\n\n\t\tif (\n\t\t\tmethod in bodylessHttpRequestMethods\n\t\t) {\n\t\t\theaders.delete('Content-Type');\n\t\t\tdelete options.body;\n\t\t}\n\t\telse if (\n\t\t\t!(\n\t\t\t\tisUndefined(data)\n\t\t\t\t&& isUndefined(this.data)\n\t\t\t)\n\t\t) {\n\t\t\tswitch (encode) {\n\n\t\t\t\tcase 'json':\n\t\t\t\t\theaders.set(\n\t\t\t\t\t\t'Content-Type',\n\t\t\t\t\t\t'application/json;charset=UTF-8',\n\t\t\t\t\t);\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getJSONContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'text':\n\t\t\t\t\theaders.set(\n\t\t\t\t\t\t'Content-Type',\n\t\t\t\t\t\t'text/plain;charset=UTF-8',\n\t\t\t\t\t);\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getTextContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'url':\n\t\t\t\t\theaders.set(\n\t\t\t\t\t\t'Content-Type',\n\t\t\t\t\t\t'application/x-www-form-urlencoded;charset=UTF-8',\n\t\t\t\t\t);\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getURLSearchContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'form':\n\t\t\t\t\theaders.delete('Content-Type');\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getFormDataContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'blob':\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getBlobContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'file':\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getFileContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'stream':\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tthis.#getStreamContent(\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\tcase 'none':\n\t\t\t\tdefault:\n\t\t\t\t\toptions.body = (\n\t\t\t\t\t\tisUndefined(data)\n\t\t\t\t\t\t? this.data\n\t\t\t\t\t\t: data\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t}\n\t\telse if (\n\t\t\tisUndefined(options.body)\n\t\t) {\n\t\t\theaders.delete('Content-Type');\n\t\t\tdelete options.body;\n\t\t}\n\t}\n\n\t#getJSONContent(\n\t\tdata,\n\t) {\n\t\tif (\n\t\t\tisArray(data)\n\t\t) {\n\t\t\tif (isArray(this.data)) {\n\t\t\t\tdata = [\n\t\t\t\t\t...this.data,\n\t\t\t\t\t...data,\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\t\telse if (\n\t\t\tisObject(data)\n\t\t) {\n\t\t\tif (\n\t\t\t\tisObject(this.data)\n\t\t\t\t&& !isArray(this.data)\n\t\t\t) {\n\t\t\t\tdata = {\n\t\t\t\t\t...this.data,\n\t\t\t\t\t...data,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\telse if (\n\t\t\tisUndefined(data)\n\t\t) {\n\t\t\tdata = this.data;\n\t\t}\n\n\t\treturn (\n\t\t\tJSON.stringify(\n\t\t\t\tdata,\n\t\t\t)\n\t\t);\n\t}\n\n\t#getTextContent(\n\t\tdata,\n\t) {\n\t\treturn (\n\t\t\ttoString(\n\t\t\t\t(\n\t\t\t\t\tisUndefined(data)\n\t\t\t\t\t? this.data\n\t\t\t\t\t: data\n\t\t\t\t),\n\t\t\t)\n\t\t);\n\t}\n\n\t#getURLSearchContent(\n\t\tdata,\n\t) {\n\t\treturn (\n\t\t\tappendParamsToParams(\n\t\t\t\tthis.data,\n\t\t\t\tdata,\n\t\t\t)\n\t\t);\n\t}\n\n\t#getFormDataContent(\n\t\tdata,\n\t) {\n\t\tif (isUndefined(this.data)) {\n\t\t\treturn (\n\t\t\t\ttoFormData(\n\t\t\t\t\tdata,\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tconst formData = (\n\t\t\ttoFormData(\n\t\t\t\tthis.data,\n\t\t\t)\n\t\t);\n\n\t\tif (!isUndefined(data)) {\n\t\t\ttoFormData(\n\t\t\t\tdata,\n\t\t\t)\n\t\t\t.forEach(\n\t\t\t\t(value, key) => {\n\t\t\t\t\tformData.append(\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\treturn formData;\n\t}\n\n\t#getBinaryContent(\n\t\tdata,\n\t\tTypeConstructor,\n\t\ttypeName,\n\t) {\n\t\tdata = (\n\t\t\tisUndefined(data)\n\t\t\t? this.data\n\t\t\t: data\n\t\t);\n\n\t\tif (\n\t\t\tisType(\n\t\t\t\tdata,\n\t\t\t\tTypeConstructor,\n\t\t\t\ttypeName,\n\t\t\t)\n\t\t) {\n\t\t\treturn data;\n\t\t}\n\n\t\tif (!isArray(data)) {\n\t\t\tdata = [data];\n\t\t}\n\n\t\treturn (\n\t\t\tnew TypeConstructor(\n\t\t\t\t(\n\t\t\t\t\tisArray(data[0])\n\t\t\t\t\t? data[0]\n\t\t\t\t\t: [data[0]]\n\t\t\t\t),\n\t\t\t\t...data.slice(1),\n\t\t\t)\n\t\t);\n\t}\n\n\t#getBlobContent(\n\t\tdata,\n\t) {\n\t\treturn (\n\t\t\tthis.#getBinaryContent(\n\t\t\t\tdata,\n\t\t\t\tBlob,\n\t\t\t\t'Blob',\n\t\t\t)\n\t\t);\n\t}\n\n\t#getFileContent(\n\t\tdata,\n\t) {\n\t\treturn (\n\t\t\tthis.#getBinaryContent(\n\t\t\t\tdata,\n\t\t\t\tFile,\n\t\t\t\t'File',\n\t\t\t)\n\t\t);\n\t}\n\n\t#getStreamContent(\n\t\tdata,\n\t) {\n\t\tdata = (\n\t\t\tisUndefined(data)\n\t\t\t? this.data\n\t\t\t: data\n\t\t);\n\n\t\tif (\n\t\t\tisType(\n\t\t\t\tdata,\n\t\t\t\tReadableStream,\n\t\t\t\t'ReadableStream',\n\t\t\t)\n\t\t) {\n\t\t\treturn data;\n\t\t}\n\n\t\treturn (\n\t\t\tnew ReadableStream(\n\t\t\t\t...(\n\t\t\t\t\tisArray(data)\n\t\t\t\t\t? data\n\t\t\t\t\t: [data]\n\t\t\t\t),\n\t\t\t)\n\t\t);\n\t}\n\n\t#trigger(\n\t\ttype,\n\t\tevent,\n\t\tlisteners,\n\t) {\n\t\tevent ??= createNullObject();\n\n\t\tconst {\n\t\t\tdetail,\n\t\t\t// bubbles,\n\t\t\t// cancelable,\n\t\t\t// composed,\n\t\t} = event;\n\n\t\tlisteners = (\n\t\t\tlisteners\n\t\t\t?.[type]\n\t\t);\n\n\t\tif (listeners) {\n\t\t\tlisteners = (\n\t\t\t\tisArray(listeners)\n\t\t\t\t? [\n\t\t\t\t\t...listeners,\n\t\t\t\t]\n\t\t\t\t: [listeners]\n\t\t\t);\n\n\t\t\tlisteners\n\t\t\t.forEach(\n\t\t\t\t(listener, index) => {\n\t\t\t\t\tif (!isArray(listener)) {\n\t\t\t\t\t\tlisteners[index] = [listener];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.addEventListener(\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\t...listeners[index],\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent(\n\t\t\t\ttype,\n\t\t\t\t{\n\t\t\t\t\tdetail,\n\t\t\t\t\t// bubbles,\n\t\t\t\t\t// cancelable,\n\t\t\t\t\t// composed,\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\n\t\tif (listeners) {\n\t\t\tlisteners\n\t\t\t.forEach(\n\t\t\t\t(listener) => {\n\t\t\t\t\tthis.removeEventListener(\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\t...listener,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t}\n\n\tfetch(\n\t\t...config\n\t) {\n\t\tlet url;\n\n\t\tif (isURL(config[0])) {\n\t\t\t[url, config] = config;\n\t\t}\n\t\telse {\n\t\t\t[config] = config;\n\t\t}\n\n\t\tconfig = (\n\t\t\tgetNormalizedObject(\n\t\t\t\tfetchKeys,\n\t\t\t\tconfig,\n\t\t\t)\n\t\t);\n\n\t\tif (!isUndefined(url)) {\n\t\t\tconfig.url = url;\n\t\t}\n\n\t\tconst { listeners } = config;\n\n\t\tconst detail = {\n\t\t\tinstance: this,\n\t\t\tfetchConfig: config,\n\t\t};\n\n\t\tthis.#trigger(\n\t\t\t'start',\n\t\t\t{\n\t\t\t\tdetail,\n\t\t\t},\n\t\t\tlisteners,\n\t\t);\n\n\t\tdetail.fetchUrl = (\n\t\t\tthis.getURL(\n\t\t\t\tconfig,\n\t\t\t)\n\t\t);\n\t\tdetail.fetchOptions = (\n\t\t\tthis.getOptions(\n\t\t\t\tconfig,\n\t\t\t)\n\t\t);\n\n\t\tdetail.fetch = (\n\t\t\tfetch(\n\t\t\t\tdetail.fetchUrl,\n\t\t\t\tdetail.fetchOptions,\n\t\t\t)\n\t\t);\n\n\t\tthis.#trigger(\n\t\t\t'started',\n\t\t\t{\n\t\t\t\tdetail,\n\t\t\t},\n\t\t\tlisteners,\n\t\t);\n\n\t\treturn (\n\t\t\tdetail\n\t\t\t.fetch\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\tdetail.response = response;\n\n\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t'loaded',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (!detail.response.ok) {\n\t\t\t\t\t\tthrow new ResponseError(\n\t\t\t\t\t\t\tdetail.response,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t'checked',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners,\n\t\t\t\t\t);\n\n\t\t\t\t\treturn detail.response;\n\t\t\t\t},\n\t\t\t)\n\t\t\t.then(\n\t\t\t\tasync (response) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tresponse.status in bodylessHttpResponseStatusCodes\n\t\t\t\t\t\t|| response.body == null\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t\t'bodyless',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlisteners,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet { decode } = config;\n\n\t\t\t\t\t\tdecode = (\n\t\t\t\t\t\t\ttoString(decode ?? '')\n\t\t\t\t\t\t\t|| this.decode\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tdecode = decodings[decode];\n\n\t\t\t\t\t\tif (decode) {\n\t\t\t\t\t\t\tresponse.data = (\n\t\t\t\t\t\t\t\ttypeof decode === 'function'\n\t\t\t\t\t\t\t\t? await (\n\t\t\t\t\t\t\t\t\tdecode(\n\t\t\t\t\t\t\t\t\t\tresponse,\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t: await (\n\t\t\t\t\t\t\t\t\tresponse[\n\t\t\t\t\t\t\t\t\t\tdecode\n\t\t\t\t\t\t\t\t\t]()\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t\t\t'decoded',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlisteners,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresponse.data = (\n\t\t\t\t\t\t\t\tresponse.body\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t\t\t'unprocessed',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlisteners,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn detail.response;\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch(\n\t\t\t\t(error) => {\n\t\t\t\t\tdetail.error = error;\n\n\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (detail.error != null) {\n\t\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t\t'uncatched',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlisteners,\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tthrow detail.error;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t'catched',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners,\n\t\t\t\t\t);\n\n\t\t\t\t\treturn detail.response;\n\t\t\t\t},\n\t\t\t)\n\t\t\t.finally(\n\t\t\t\t() => {\n\t\t\t\t\tthis.#trigger(\n\t\t\t\t\t\t'end',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlisteners,\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t)\n\t\t);\n\t}\n\n\tcreate(\n\t\t...config\n\t) {\n\t\tif (config[0] === true) {\n\t\t\tconfig[0] = this.getConfig();\n\t\t}\n\n\t\treturn (\n\t\t\t// eslint-disable-next-line no-use-before-define\n\t\t\tcreateCher(\n\t\t\t\t...config,\n\t\t\t)\n\t\t);\n\t}\n\n}\n\nfunction createCher(\n\t...config\n) {\n\tconst instance = (\n\t\tnew Cher(\n\t\t\t...config,\n\t\t)\n\t);\n\n\tconst cher = (\n\t\tinstance.fetch.bind(\n\t\t\tinstance,\n\t\t)\n\t);\n\n\t// properties\n\t[\n\t\t'method',\n\t\t'evalTemplate',\n\t\t'delimiters',\n\t\t'baseURL',\n\t\t'url',\n\t\t'args',\n\t\t'params',\n\t\t'decode',\n\t\t'encode',\n\t\t'data',\n\t\t'options',\n\t]\n\t.forEach(\n\t\t(property) => {\n\t\t\tObject.defineProperty(\n\t\t\t\tcher,\n\t\t\t\tproperty,\n\t\t\t\t{\n\t\t\t\t\tget() {\n\t\t\t\t\t\treturn instance[property];\n\t\t\t\t\t},\n\t\t\t\t\tset(value) {\n\t\t\t\t\t\tinstance[property] = value;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t},\n\t);\n\n\t// methods\n\t[\n\t\t// super (EventTarget)\n\t\t'addEventListener',\n\t\t'removeEventListener',\n\t\t'dispatchEvent',\n\t\t// own (Cher)\n\t\t'getDefault',\n\t\t'setDefault',\n\t\t'resetDefault',\n\t\t'getDefaults',\n\t\t'setDefaults',\n\t\t'resetDefaults',\n\t\t'reset',\n\t\t'set',\n\t\t'getConfig',\n\t\t'getURL',\n\t\t'getOptions',\n\t\t'fetch',\n\t\t'create',\n\t]\n\t.forEach(\n\t\t(method) => {\n\t\t\tObject.defineProperty(\n\t\t\t\tcher,\n\t\t\t\tmethod,\n\t\t\t\t{\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: (\n\t\t\t\t\t\tinstance[method].bind(\n\t\t\t\t\t\t\tinstance,\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t);\n\t\t},\n\t);\n\n\treturn cher;\n}\n\nexport default createCher();\n"],"names":["undef","freezeObject","object","Object","freeze","createNullObject","create","getNormalizedObject","keys","normalizedObject","i","length","toNullObject","httpRequestMethods","GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH","bodylessHttpRequestMethods","bodylessHttpResponseStatusCodes","toString","String","isUndefined","value","isObject","isArray","Array","isType","TypeConstructor","typeName","prototype","call","concat","evalSimpleTemplate","template","args","delimiters","_delimiters$","_delimiters$2","result","forEach","key","split","join","getURLObject","url","_document","_location","_len","arguments","bases","_key","base","document","baseURI","location","href","URL","appendParamsToParams","params1","params2","URLSearchParams","filter","Boolean","appendParamsToURL","params","_len2","_key2","urlObject","searchParams","append","toFormData","data","FormData","HTMLFormElement","formData","ResponseError","Error","constructor","response","message","super","status","statusText","captureStackTrace","this","name","_json","decodings","json","_asyncToGenerator","text","JSON","parse","_x","apply","form","blob","file","stream","buffer","none","encodings","defaults","method","evalTemplate","baseURL","decode","encode","options","initialDefaults","_objectSpread","defaultKeys","instanceKeys","fetchKeys","getNormalizedMethod","toUpperCase","isURL","_method","WeakMap","_evalTemplate","_delimiters","_baseURL","_url","_args","_params","_decode","_encode","_data","_options","_Cher_brand","WeakSet","Cher","EventTarget","_classPrivateFieldInitSpec","reset","set","supported","fetch","_classPrivateFieldGet","_classPrivateFieldSet","_value$","_value$2","reduce","reducedItems","item","push","getDefault","setDefault","resetDefault","getDefaults","setDefaults","config","resetDefaults","initial","values","getConfig","getURL","_len3","_key3","map","reverse","getOptions","methodOption","headers","Headers","_assertClassBrand","_setAccept","_setContent","_this","_len4","_key4","listeners","detail","instance","fetchConfig","_trigger","fetchUrl","fetchOptions","then","ok","_ref","body","_x2","catch","error","finally","_len5","_key5","createCher","accept","has","delete","_getJSONContent","_getTextContent","_getURLSearchContent","_getFormDataContent","_getBlobContent","_getFileContent","_getStreamContent","stringify","_getBinaryContent","slice","Blob","File","ReadableStream","type","event","_listeners","listener","index","addEventListener","dispatchEvent","CustomEvent","removeEventListener","_len6","_key6","cher","bind","property","defineProperty","get","configurable","writable"],"mappings":"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"}